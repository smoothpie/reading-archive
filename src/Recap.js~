import React from 'react';
import { observer, inject } from 'mobx-react';

//create HOC for form?
//will be on the right, like a card?
//get request for notes '/api/book:id/notes'

inject('notestore') @observer
class Recap extends React.Component {

    componentDidMount() {
	this.props.notestore.getNotes();
    }

    renderNotes() {
	const { notestore } = this.props;
	return notestore.notes.map((notes) => (
	    <Note
	      key = {note.id}
	      selected = {note.id === notestore.selectedId}
	      label = {note.content}
	      onClick = { () => {notestore.selectNote(note)} }
	      />
	))

    }

    render() {
	return(
	    <div>
	      {this.renderNotes()}
	    </div>
	)
    }
}

export default Recap;
